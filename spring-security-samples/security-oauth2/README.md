# Spring Security OAuth2 & OIDC 协议框架示例

## 服务介绍

### 授权服务器（西游记宇宙）
#### 应用
* 应用名：authorization-server
* 端口：9090

#### 功能
* 提供师徒四人在本服务器的登录及个人主页信息
  - 唐僧为管理员，可以查看系统 H2 数据库
  - 其余三人位普通用户

* 提供第三方应用（西游记故事）授权注册
  - 保存西游记故事应用 OAuth2 授权登记信息
  - 包含西游记故事应用认证方式、权限范围

* 提供第三方应用（西游记故事）授权登录
  - 允许使用西游记宇宙的师徒四人用户登录登录第三方应用（西游记故事）
  - 签发第三方应用（西游记故事）访问西游记宇宙用户信息的令牌

### 资源服务器 （西游记神仙法术及兵器资源库）
#### 应用
* 应用名：resource-server
* 端口：9091

#### 功能
* 为授权第三方应用（西游记故事）提供西游记宇宙资源
  - 师徒四人法术信息
  - 师徒四人所使用武器

### 客户端服务器 （西游记故事）
#### 应用
* 应用名：client-server
* 端口：8080

#### 功能
* 使用西游记宇宙用户来认证登录本应用
* 根据西游记宇宙用户的授权范围展示相应用户信息
  - 查询用户头像（profile 权限）
  - 查询用户 email (email 权限)
  - 查询用户 phone (phone 权限)
  - 查询用户的法术资源 （MAGIC_SKILL 权限）
  - 查询用户的兵器资源  （WEAPON 权限）

## 服务运行

本地运行三个服务时，为了避免相同 IP 相同时 Cookie 覆盖问题，请修改 hosts 文件。
按下面的设置给三个服务器分配本地域名解析：

* 127.0.0.1   auth-server   (授权服务器域名)
* 127.0.0.1   res-server    （资源服务器域名）
* 127.0.0.1   cli-server    （客户端服务器域名）